# 黑暗普通市民 题解

删点难以考虑，反过来考虑合并每个点的儿子。
考虑两个联通块合并时的优先级，设两个联通块 $a$，$b$ 中 $0$，$1$ 的个数分别为 $c_{a,0}$，$c_{a,1}$，$c_{b,0}$，$c_{b,1}$，显然当 $c_{a,1}\times c_{b,0} < c_{a,0}\times c_{b,1}$ 时把 $a$ 放在 $b$ 的前面更优，初始时每个点自成一个联通块，扔进堆里按这种方式比较即可。